// Import required classes
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import androidx.appcompat.app.AppCompatActivity;

// This class extends AppCompatActivity and represents the main screen of an Android app
public class MainActivity extends AppCompatActivity {

    // Declare a binding object to access the views defined in the layout file
    private ActivitySpinnerBinding binding;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Inflate the layout for this activity and set it as the content view
        binding = ActivitySpinnerBinding.inflate(getLayoutInflater());
        setContentView(binding.getRoot());

        // Create an ArrayAdapter using the string array and a default spinner layout
        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
                this,
                R.array.spinner_lessons_entries,
                android.R.layout.simple_spinner_item
        );
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        // Attach the adapter to the Spinner view
        binding.spinnerOptions.setAdapter(adapter);

        // Listen for item selections and update the UI with the selected value
        binding.spinnerOptions.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                CharSequence selectedItem = (CharSequence) parent.getItemAtPosition(position);
                binding.textSelectedItem.setText(getString(R.string.spinner_selected_format, selectedItem));
            }

            @Override
            public void onNothingSelected(AdapterView<?> parent) {
                binding.textSelectedItem.setText(R.string.spinner_selected_none);
            }
        });
    }
}
